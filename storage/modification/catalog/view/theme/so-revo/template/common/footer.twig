{# =========== Show Footer==============#}

{% if soconfig.get_settings('typefooter') =='1'%}
	{% include theme_directory~'/template/footer/footer1.twig' with {typefooter: soconfig.get_settings('typefooter')} %}

{% elseif soconfig.get_settings('typefooter') =='2'%}
	{% include theme_directory~'/template/footer/footer2.twig' with {typefooter: soconfig.get_settings('typefooter')} %}
	
{% elseif soconfig.get_settings('typefooter') =='3'%}
	{% include theme_directory~'/template/footer/footer3.twig' with {typefooter: soconfig.get_settings('typefooter')} %}
	
{% elseif soconfig.get_settings('typefooter') =='4'%}
	{% include theme_directory~'/template/footer/footer4.twig' with {typefooter: soconfig.get_settings('typefooter')} %}
	
{% elseif soconfig.get_settings('typefooter') =='5'%}
	{% include theme_directory~'/template/footer/footer5.twig' with {typefooter: soconfig.get_settings('typefooter')} %}
	
{% elseif soconfig.get_settings('typefooter') =='6'%}
	{% include theme_directory~'/template/footer/footer6.twig' with {typefooter: soconfig.get_settings('typefooter')} %}
	
{% elseif soconfig.get_settings('typefooter') =='7'%}
	{% include theme_directory~'/template/footer/footer7.twig' with {typefooter: soconfig.get_settings('typefooter')} %}

{% elseif soconfig.get_settings('typefooter') =='8'%}
	{% include theme_directory~'/template/footer/footer8.twig' with {typefooter: soconfig.get_settings('typefooter')} %}
	
{% elseif soconfig.get_settings('typefooter') =='9'%}
	{% include theme_directory~'/template/footer/footer9.twig' with {typefooter: soconfig.get_settings('typefooter')} %}
	
{% elseif soconfig.get_settings('typefooter') =='10'%}
	{% include theme_directory~'/template/footer/footer10.twig' with {typefooter: soconfig.get_settings('typefooter')} %}

{% elseif soconfig.get_settings('typefooter') =='11'%}
	{% include theme_directory~'/template/footer/footer11.twig' with {typefooter: soconfig.get_settings('typefooter')} %}

{% elseif soconfig.get_settings('typefooter') =='12'%}
	{% include theme_directory~'/template/footer/footer12.twig' with {typefooter: soconfig.get_settings('typefooter')} %}

{% elseif soconfig.get_settings('typefooter') =='13'%}
	{% include theme_directory~'/template/footer/footer13.twig' with {typefooter: soconfig.get_settings('typefooter')} %}

{% elseif soconfig.get_settings('typefooter') =='14'%}
	{% include theme_directory~'/template/footer/footer14.twig' with {typefooter: soconfig.get_settings('typefooter')} %}
	
{% elseif soconfig.get_settings('typefooter') =='15'%}
	{% include theme_directory~'/template/footer/footer15.twig' with {typefooter: soconfig.get_settings('typefooter')} %}

{% endif %}


<div id="previewModal" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
			<h4 class="modal-title"> {{objlang.get('text_alertaddtocart') }}</h4>
		</div>
		<div class="modal-body"></div>
    </div>
  </div>
</div>
{# =========== Show BackToTop==============#}

{% if soconfig.get_settings('social_sidebar')  %}
	{% if soconfig.get_settings('social_sidebar') == 1 %}
		{% set  social_sidebar = 'socialwidgets-left'%}
	{% else %}
		{% set  social_sidebar = 'socialwidgets-right'%}
	{% endif %}
	<section class="social-widgets visible-lg {{social_sidebar}} ">
		<ul class="items">
			{% if soconfig.get_settings('social_fb_status') %} 
			<li class="item item-01 facebook">
				<a href="catalog/view/theme/{{ theme_directory }}/template/social/facebook.php?account_fb={{soconfig.get_settings('facebook')}} " class="tab-icon"><span class="fa fa-facebook"></span></a>
				<div class="tab-content">
					<div class="title"><h5>{{text_title_facebook}}</h5></div>
					<div class="loading">
						<img class="lazyload" data-sizes="auto" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="catalog/view/theme/{{ theme_directory }}/images/ajax-loader.gif" class="ajaxloader" alt="loader">
					</div>
				</div>
			</li>
			{% endif %} 

			{% if soconfig.get_settings('social_twitter_status') %} 
			<li class="item item-02 twitter">
				<a href="catalog/view/theme/{{ theme_directory }}/template/social/twitter.php?account_twitter={{ soconfig.get_settings('twitter')}} " class="tab-icon"><span class="fa fa-twitter"></span></a>
				<div class="tab-content">
					<div class="title"><h5>{{text_title_twitter}}</h5></div>
					<div class="loading">
						<img class="lazyload" data-sizes="auto" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="catalog/view/theme/{{ theme_directory }}/images/ajax-loader.gif" class="ajaxloader" alt="loader">
					</div>
				</div>
			</li>
			{% endif %} 

			{% if soconfig.get_settings('social_custom_status') %} 
			<li class="item item-03 youtube">
				<div class="tab-icon"><span class="fa fa-youtube"></span></div>
				<div class="tab-content">
					<div class="loading">
						{% if soconfig.get_settings('video_code') %}
								{{ soconfig.decode_entities( soconfig.get_settings('video_code') ) }}
						{% endif %} 
					</div>
				</div>
			</li>
			{% endif %} 
		</ul>
	</section>
	
{% endif %} 

</div>
<script>
	$('#so-groups').css('display', 'none');
	
	$(window).scroll(function (event) {
    	var scroll = $(window).scrollTop();
    	if( scroll > $(window).height()){
    		$('#so-groups').css('display', 'block');
    	} else {
    		$('#so-groups').css('display', 'none');
    	}
	});
	
</script>

            {% if schemas_org %}
            {% for schema in schemas_org %}
            <script type="application/ld+json">
            {{ schema }}
            </script>
            {% endfor %}
            {% endif %}
            

<script>
(function() {
    'use strict';
    
    // –ü—Ä–æ–≤–µ—Ä—è–≤–∞–º–µ –¥–∞–ª–∏ —Å–∫—Ä–∏–ø—Ç—ä—Ç –≤–µ—á–µ –µ –∏–∑–ø—ä–ª–Ω–µ–Ω
    if (window.euroPriceProcessorLoaded) {
        console.log('‚ö†Ô∏è Euro Price Processor –≤–µ—á–µ –µ –∑–∞—Ä–µ–¥–µ–Ω');
        return;
    }
    window.euroPriceProcessorLoaded = true;
    
    // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
    const EUR_RATE = 1.95583; // BGN –∫—ä–º EUR —Å—Ç–∞–≤–∫–∞
    const DEBUG = false; // –°–º–µ–Ω–∏ –Ω–∞ true –∑–∞ debugging
    
    // –£–Ω–∏–∫–∞–ª–µ–Ω –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞ –æ–±—Ä–∞–±–æ—Ç–µ–Ω–∏—Ç–µ –µ–ª–µ–º–µ–Ω—Ç–∏
    const PROCESSED_ATTR = 'data-euro-processed';
    const EURO_CLASS = 'euro-price-kaielectric';
    
    function log(message, data) {
        if (DEBUG) console.log('üîÑ EuroPrice:', message, data || '');
    }
    
    // –§—É–Ω–∫—Ü–∏—è –∑–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ —Ü–µ–Ω–∞
    function convertToEuro(priceText) {
        if (!priceText) return null;
        
        let cleanPrice = priceText.toString()
            .replace(/[^\d.,]/g, '')
            .replace(/(\d),(\d{3})/g, '$1$2')
            .replace(',', '.');
        
        const price = parseFloat(cleanPrice);
        
        if (isNaN(price) || price <= 0) {
            return null;
        }
        
        const euroPrice = (price / EUR_RATE).toFixed(2).replace('.', ',');
        return euroPrice + '‚Ç¨';
    }
    
    // –§—É–Ω–∫—Ü–∏—è –∑–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–ª–∏ –µ–ª–µ–º–µ–Ω—Ç—ä—Ç –≤–µ—á–µ –µ –æ–±—Ä–∞–±–æ—Ç–µ–Ω
    function isAlreadyProcessed(element) {
        return element.hasAttribute(PROCESSED_ATTR) || 
               element.querySelector('.' + EURO_CLASS) ||
               element.textContent.includes('‚Ç¨');
    }
    
    // –§—É–Ω–∫—Ü–∏—è –∑–∞ –Ω–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ –Ω–∞–π-–ø–æ–¥—Ö–æ–¥—è—â–∏—è –µ–ª–µ–º–µ–Ω—Ç –∑–∞ –¥–æ–±–∞–≤—è–Ω–µ –Ω–∞ –µ–≤—Ä–æ —Ü–µ–Ω–∞
    function findBestTargetElement(element) {
        // –ê–∫–æ –µ–ª–µ–º–µ–Ω—Ç—ä—Ç –∏–º–∞ –¥–µ—Ü–∞ —Å —Ü–µ–Ω–∏, –Ω–∞–º–∏—Ä–∞–º–µ –Ω–∞–π-–¥—ä–ª–±–æ–∫–∏—è –∫–æ–π—Ç–æ —Å—ä–¥—ä—Ä–∂–∞ —Ü–∏—Ñ—Ä–∏
        const childrenWithPrices = Array.from(element.querySelectorAll('*'))
            .filter(child => {
                const text = child.textContent;
                return text.includes('–ª–≤') && 
                       /\d/.test(text) && 
                       child.children.length === 0; // –ù—è–º–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–∏ –¥–µ—Ü–∞
            });
        
        // –ê–∫–æ –∏–º–∞ –¥–µ—Ü–∞ —Å —Ü–µ–Ω–∏, –∏–∑–ø–æ–ª–∑–≤–∞–º–µ –ø—ä—Ä–≤–æ—Ç–æ
        if (childrenWithPrices.length > 0) {
            return childrenWithPrices[0];
        }
        
        // –ê–∫–æ –Ω—è–º–∞ –¥–µ—Ü–∞ —Å —Ü–µ–Ω–∏, –∏–∑–ø–æ–ª–∑–≤–∞–º–µ —Å–∞–º–∏—è –µ–ª–µ–º–µ–Ω—Ç —Å–∞–º–æ –∞–∫–æ –Ω—è–º–∞ –¥–µ—Ü–∞
        if (element.children.length === 0) {
            return element;
        }
        
        return null;
    }
    
    // –§—É–Ω–∫—Ü–∏—è –∑–∞ –º–∞—Ä–∫–∏—Ä–∞–Ω–µ –Ω–∞ –µ–ª–µ–º–µ–Ω—Ç –∫–∞—Ç–æ –æ–±—Ä–∞–±–æ—Ç–µ–Ω
    function markAsProcessed(element) {
        element.setAttribute(PROCESSED_ATTR, 'true');
        // –ú–∞—Ä–∫–∏—Ä–∞–º–µ –∏ —Ä–æ–¥–∏—Ç–µ–ª—Å–∫–∏—Ç–µ –µ–ª–µ–º–µ–Ω—Ç–∏ –¥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –¥—ä–ª–±–æ—á–∏–Ω–∞
        let parent = element.parentElement;
        let depth = 0;
        while (parent && depth < 2) {
            if (parent.textContent.includes('–ª–≤')) {
                parent.setAttribute(PROCESSED_ATTR, 'true');
            }
            parent = parent.parentElement;
            depth++;
        }
    }
    
    // –§—É–Ω–∫—Ü–∏—è –∑–∞ –¥–æ–±–∞–≤—è–Ω–µ –Ω–∞ –µ–≤—Ä–æ —Ü–µ–Ω–∞
    function addEuroPrice(element, euroPrice) {
        if (!euroPrice || !element || isAlreadyProcessed(element)) {
            return false;
        }
        
        // –û–ø—Ä–µ–¥–µ–ª—è–º–µ –¥–∞–ª–∏ –¥–∞ –¥–æ–±–∞–≤–∏–º –Ω–∞ –Ω–æ–≤ —Ä–µ–¥
        const shouldUseNewLine = element.closest('.product-price') || 
                                element.classList.contains('product-price') ||
                                element.closest('[class*="price"]');
        
        const euroSpan = document.createElement('span');
        euroSpan.className = EURO_CLASS;
        
        if (shouldUseNewLine) {
            euroSpan.style.cssText = `
                color: #666; 
                font-size: 0.85em; 
                font-weight: normal;
                white-space: nowrap;
                display: block;
                margin-top: 2px;
            `;
            euroSpan.innerHTML = euroPrice; // –ë–µ–∑ " / " –∑–∞ –Ω–æ–≤ —Ä–µ–¥
        } else {
            euroSpan.style.cssText = `
                color: #666; 
                font-size: 0.85em; 
                margin-left: 5px; 
                font-weight: normal;
                white-space: nowrap;
            `;
            euroSpan.innerHTML = ' / ' + euroPrice;
        }
        
        element.appendChild(euroSpan);
        markAsProcessed(element);
        
        log('–î–æ–±–∞–≤–µ–Ω–∞ –µ–≤—Ä–æ —Ü–µ–Ω–∞:', euroPrice + ' –∫—ä–º ' + element.tagName + (shouldUseNewLine ? ' (–Ω–æ–≤ —Ä–µ–¥)' : ' (—Å—ä—â–∏—è —Ä–µ–¥)'));
        return true;
    }
    
    // –ü—Ä–µ–º–∞—Ö–≤–∞–Ω–µ –Ω–∞ –≤—Å–∏—á–∫–∏ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â–∏ –µ–≤—Ä–æ —Ü–µ–Ω–∏
    function removeExistingEuroPrices() {
        const existingEuroPrices = document.querySelectorAll('.' + EURO_CLASS);
        existingEuroPrices.forEach(el => el.remove());
        
        // –ü—Ä–µ–º–∞—Ö–≤–∞–º–µ –∞—Ç—Ä–∏–±—É—Ç–∏—Ç–µ –∑–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞
        const processedElements = document.querySelectorAll('[' + PROCESSED_ATTR + ']');
        processedElements.forEach(el => el.removeAttribute(PROCESSED_ATTR));
        
        log('–ü—Ä–µ–º–∞—Ö–Ω–∞—Ç–∏ ' + existingEuroPrices.length + ' —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â–∏ –µ–≤—Ä–æ —Ü–µ–Ω–∏');
    }
    
    // –û—Å–Ω–æ–≤–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ —Ü–µ–Ω–∏—Ç–µ
    
    function processAllPrices() {
        log('üöÄ –ó–∞–ø–æ—á–≤–∞–º–µ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ —Ü–µ–Ω–∏—Ç–µ –ø–æ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∏ –∫–ª–∞—Å–æ–≤–µ...');
    
        let processedCount = 0;
    
        const priceSelectors = [
            '.old-price',
            '.new-price', 
            '.price-new',
            '.price-old',
            '.tk_text_free_shipping',
            ".tk_totals_right",
            '[id^="tk_cart_product_total_"]',
            '#to_office_price',
            '#to_door_price'
        ];
    
        const alreadyProcessedSet = new Set();
    
        priceSelectors.forEach(selector => {
            const elements = document.querySelectorAll(selector);
            log(`–ù–∞–º–µ—Ä–µ–Ω–∏ ${elements.length} –µ–ª–µ–º–µ–Ω—Ç–∞ —Å —Å–µ–ª–µ–∫—Ç–æ—Ä: ${selector}`);
    
            elements.forEach(element => {
                const text = element.textContent || '';
    
                if (
                    !isAlreadyProcessed(element) &&
                    !text.includes('‚Ç¨') &&           // –ù–µ –µ –≤–µ—á–µ –æ–±—Ä–∞–±–æ—Ç–µ–Ω–æ
                    /\d/.test(text) &&
                    text.length < 200
                ) {
                    const hasChildren = element.children.length > 0;
    
                    if (hasChildren) {
                        const childrenTypes = Array.from(element.children).map(child => child.tagName.toLowerCase());
                        const hasOnlySimpleChildren = childrenTypes.every(tag => 
                            ['span', 'small', 'em', 'strong', 'b', 'i', 'div'].includes(tag)
                        );
    
                        if (hasOnlySimpleChildren && element.children.length <= 4) {
                            const euroPrice = convertToEuro(text);
                            if (euroPrice && addEuroPrice(element, euroPrice)) {
                                processedCount++;
                                alreadyProcessedSet.add(element);
                                log(`–û–±—Ä–∞–±–æ—Ç–µ–Ω ${selector}: ${text.substring(0, 30)}...`);
                            }
                        }
                    } else {
                        const euroPrice = convertToEuro(text);
                        if (euroPrice && addEuroPrice(element, euroPrice)) {
                            processedCount++;
                            alreadyProcessedSet.add(element);
                            log(`–û–±—Ä–∞–±–æ—Ç–µ–Ω ${selector}: ${text.substring(0, 30)}...`);
                        }
                    }
                }
            });
        });
    
        // –†–µ–∑–µ—Ä–≤–Ω–æ –æ–±—Ä–∞–±–æ—Ç–≤–∞–Ω–µ –∞–∫–æ –Ω–µ –µ –∏–º–∞–ª–æ –ø–æ–ø–∞–¥–µ–Ω–∏—è
        if (processedCount === 0) {
            log('–ù—è–º–∞ –Ω–∞–º–µ—Ä–µ–Ω–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ —Å—ä—Å —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∏—Ç–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∏, —Ç—ä—Ä—Å–∏–º –æ–±—â–∏ price –∫–ª–∞—Å–æ–≤–µ...');
    
            const generalSelectors = ['.price', '[class*="price"]', '[id*="price"]'];
    
            generalSelectors.forEach(selector => {
                const elements = document.querySelectorAll(selector);
    
                elements.forEach(element => {
                    const text = element.textContent || '';
    
                    if (
                        !alreadyProcessedSet.has(element) &&
                        !isAlreadyProcessed(element) &&
                        !text.includes('‚Ç¨') &&
                        /\d/.test(text) &&
                        text.length < 100
                    ) {
                        const euroPrice = convertToEuro(text);
                        if (euroPrice && addEuroPrice(element, euroPrice)) {
                            processedCount++;
                            log(`–û–±—Ä–∞–±–æ—Ç–µ–Ω –æ–±—â —Å–µ–ª–µ–∫—Ç–æ—Ä ${selector}: ${text.substring(0, 30)}...`);
                        }
                    }
                });
            });
        }
    
        log('‚úÖ –û–±—Ä–∞–±–æ—Ç–µ–Ω–∏ ' + processedCount + ' –Ω–æ–≤–∏ —Ü–µ–Ω–∏');
        return processedCount;
    }
    
    // –§—É–Ω–∫—Ü–∏—è –∑–∞ –Ω–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ –¥—ä–ª–±–æ—á–∏–Ω–∞—Ç–∞ –Ω–∞ –µ–ª–µ–º–µ–Ω—Ç
    function getElementDepth(element) {
        let depth = 0;
        let parent = element.parentElement;
        while (parent) {
            depth++;
            parent = parent.parentElement;
        }
        return depth;
    }
    
    // –§—É–Ω–∫—Ü–∏—è –∑–∞ intelligent processing
    function intelligentProcess() {
        const unprocessedPrices = Array.from(document.querySelectorAll('*')).filter(el => {
            return el.textContent.includes('–ª–≤') && 
                   !isAlreadyProcessed(el) &&
                   el.textContent.length < 100 &&
                   /\d/.test(el.textContent);
        });
        
        if (unprocessedPrices.length > 0) {
            log('–ù–∞–º–µ—Ä–µ–Ω–∏ ' + unprocessedPrices.length + ' –Ω–µ–æ–±—Ä–∞–±–æ—Ç–µ–Ω–∏ —Ü–µ–Ω–∏');
            return processAllPrices();
        }
        
        return 0;
    }
    
    // –§—É–Ω–∫—Ü–∏—è –∑–∞ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –Ω–∞ –ø—Ä–æ–º–µ–Ω–∏ –≤ DOM
    function setupObserver() {
        let observerTimeout;
        
        const observer = new MutationObserver(function(mutations) {
            let shouldProcess = false;
            
            mutations.forEach(mutation => {
                mutation.addedNodes.forEach(node => {
                    if (node.nodeType === 1 && node.textContent) {
                        if (node.textContent.includes('–ª–≤') && !isAlreadyProcessed(node)) {
                            shouldProcess = true;
                        }
                    }
                });
            });
            
            if (shouldProcess) {
                clearTimeout(observerTimeout);
                observerTimeout = setTimeout(() => {
                    log('üîÑ DOM —Å–µ –ø—Ä–æ–º–µ–Ω–∏, –ø—Ä–æ–≤–µ—Ä—è–≤–∞–º–µ –∑–∞ –Ω–æ–≤–∏ —Ü–µ–Ω–∏...');
                    intelligentProcess();
                }, 300);
            }
        });
        
        observer.observe(document.body, {
            childList: true,
            subtree: true
        });
        
        log('üëÅÔ∏è Intelligent observer –Ω–∞—Å—Ç—Ä–æ–µ–Ω');
    }
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    function init() {
        log('üéØ Euro Price Converter v3.0 –∑–∞ kaielectric.com');
        
        // –ü—Ä–µ–º–∞—Ö–≤–∞–º–µ –µ–≤–µ–Ω—Ç—É–∞–ª–Ω–∏ —Å—Ç–∞—Ä–∏ –µ–≤—Ä–æ —Ü–µ–Ω–∏
        removeExistingEuroPrices();
        
        // –ü—ä—Ä–≤–æ–Ω–∞—á–∞–ª–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', function() {
                setTimeout(intelligentProcess, 500);
            });
        } else {
            setTimeout(intelligentProcess, 500);
        }
        
        // –ù–∞—Å—Ç—Ä–æ–π–≤–∞–º–µ observer
        setupObserver();
        
        // –§–∏–Ω–∞–ª–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª–µ–Ω check
        setTimeout(() => {
            intelligentProcess();
            log('‚è∞ –§–∏–Ω–∞–ª–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª–µ–Ω check –∑–∞–≤—ä—Ä—à–µ–Ω');
        }, 3000);
    }
    
    // –ì–ª–æ–±–∞–ª–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞ –∫–æ–Ω—Ç—Ä–æ–ª
    window.euroPriceControls = {
        reprocess: function() {
            log('üîß –†—ä—á–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–±–æ—Ç–≤–∞–Ω–µ...');
            removeExistingEuroPrices();
            return processAllPrices();
        },
        
        clear: function() {
            removeExistingEuroPrices();
            log('üßπ –í—Å–∏—á–∫–∏ –µ–≤—Ä–æ —Ü–µ–Ω–∏ –ø—Ä–µ–º–∞—Ö–Ω–∞—Ç–∏');
        },
        
        status: function() {
            const euroElements = document.querySelectorAll('.' + EURO_CLASS);
            const processedElements = document.querySelectorAll('[' + PROCESSED_ATTR + ']');
            const duplicates = document.querySelectorAll('[' + PROCESSED_ATTR + '] .' + EURO_CLASS);
            
            console.log('üìä Status:');
            console.log('- –ï–≤—Ä–æ —Ü–µ–Ω–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ç–∞:', euroElements.length);
            console.log('- –û–±—Ä–∞–±–æ—Ç–µ–Ω–∏ –µ–ª–µ–º–µ–Ω—Ç–∏:', processedElements.length);
            console.log('- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª–Ω–∏ –¥—É–±–ª–∏—Ä–∞–Ω–∏—è:', duplicates.length);
            
            // –ü–æ–∫–∞–∑–≤–∞–º–µ –ø—Ä–∏–º–µ—Ä–∏ –æ—Ç –¥—É–±–ª–∏—Ä–∞–Ω–∏—è—Ç–∞
            if (duplicates.length > 0) {
                console.log('üîç –ü—Ä–∏–º–µ—Ä–∏ –æ—Ç –¥—É–±–ª–∏—Ä–∞–Ω–∏—è:');
                Array.from(duplicates).slice(0, 3).forEach((el, i) => {
                    console.log(`${i + 1}. ${el.closest('[' + PROCESSED_ATTR + ']').outerHTML.substring(0, 200)}...`);
                });
            }
            
            return {
                euroPrices: euroElements.length,
                processedElements: processedElements.length,
                duplicates: duplicates.length
            };
        },
        
        fixDuplicates: function() {
            log('üîß –ü–æ–ø—Ä–∞–≤—è–Ω–µ –Ω–∞ –¥—É–±–ª–∏—Ä–∞–Ω–∏—è...');
            
            // –ù–∞–º–∏—Ä–∞–º–µ –≤—Å–∏—á–∫–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ —Å –ø–æ–≤–µ—á–µ –æ—Ç –µ–¥–Ω–∞ –µ–≤—Ä–æ —Ü–µ–Ω–∞
            const elementsWithMultipleEuros = Array.from(document.querySelectorAll('[' + PROCESSED_ATTR + ']'))
                .filter(el => el.querySelectorAll('.' + EURO_CLASS).length > 1);
            
            elementsWithMultipleEuros.forEach(element => {
                const euroElements = element.querySelectorAll('.' + EURO_CLASS);
                // –û—Å—Ç–∞–≤—è–º–µ —Å–∞–º–æ –ø—ä—Ä–≤–∞—Ç–∞ –µ–≤—Ä–æ —Ü–µ–Ω–∞
                for (let i = 1; i < euroElements.length; i++) {
                    euroElements[i].remove();
                }
            });
            
            log('–ü—Ä–µ–º–∞—Ö–Ω–∞—Ç–∏ –¥—É–±–ª–∏—Ä–∞–Ω–∏—è –æ—Ç ' + elementsWithMultipleEuros.length + ' –µ–ª–µ–º–µ–Ω—Ç–∞');
            return elementsWithMultipleEuros.length;
        }
    };
    
    // –°—Ç–∞—Ä—Ç–∏—Ä–∞–º–µ
    init();
    
})();
</script>


<style>
.euro-price-kaielectric {
    color: #666 !important;
    font-size: 0.85em !important;
    font-weight: normal !important;
    margin-left: 5px !important;
    white-space: nowrap !important;
    display: inline !important;
}

/* –°–ø–µ—Ü–∏–∞–ª–Ω–∏ —Å—Ç–∏–ª–æ–≤–µ –∑–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∏ */
.product-thumb .euro-price-kaielectric {
    color: #555 !important;
    font-size: 0.8em !important;
}

.price-new .euro-price-kaielectric {
    color: #e74c3c !important;
    font-weight: 600 !important;
}

.price-old .euro-price-kaielectric {
    text-decoration: line-through !important;
    color: #999 !important;
    font-size: 0.75em !important;
}

/* Cart/checkout —Å—Ç–∏–ª–æ–≤–µ */
.table .euro-price-kaielectric {
    display: block !important;
    margin-left: 0 !important;
    margin-top: 2px !important;
    font-size: 0.8em !important;
    color: #777 !important;
}

/* Responsive —Å—Ç–∏–ª–æ–≤–µ */
@media (max-width: 768px) {
    .euro-price-kaielectric {
        display: block !important;
        margin-left: 0 !important;
        margin-top: 3px !important;
        font-size: 0.8em !important;
    }
}

@media (max-width: 480px) {
    .euro-price-kaielectric {
        font-size: 0.75em !important;
    }
}

/* Hover –µ—Ñ–µ–∫—Ç–∏ */
.product-thumb:hover .euro-price-kaielectric {
    color: #333 !important;
    transition: color 0.3s ease;
}

/* –ü–ª–∞–≤–Ω–∞ –∞–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –ø–æ—è–≤—è–≤–∞–Ω–µ */
.euro-price-kaielectric {
    opacity: 0;
    animation: fadeInEuroPrice 0.4s ease-in-out forwards;
}

@keyframes fadeInEuroPrice {
    from { 
        opacity: 0; 
        transform: translateX(-5px); 
    }
    to { 
        opacity: 1; 
        transform: translateX(0); 
    }
}

/* –ü—Ä–µ–º–∞—Ö–≤–∞–Ω–µ –Ω–∞ —Å—Ç–∞—Ä–∏ –∫–ª–∞—Å–æ–≤–µ –∞–∫–æ –∏–º–∞ */
.product_page_price .price-new > .euro-price-kaielectric,
.product_page_price > .euro-price-kaielectric,
.product_page_price .old-price-format > .euro-price-kaielectric,
.content_price .old-price-format > .euro-price-kaielectric {
    display: none !important;
}
</style>

</body>
</html>